"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_echartsForReact=require("echarts-for-react"),_echartsForReact2=_interopRequireDefault(_echartsForReact),_Basic2=require("./Basic"),_Basic3=_interopRequireDefault(_Basic2),BarHorizontal=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,_Basic3.default),_createClass(t,[{key:"getOption",value:function(e){var t=e.color,o=e.config,r={color:t||this.color,tooltip:{show:!1,trigger:"axis"},grid:{show:!1,left:o.grid&&o.grid.left||30,right:o.grid&&o.grid.right||20,top:o.grid&&o.grid.top||10,bottom:o.grid&&o.grid.bottom||10,borderColor:this.gridColor,containLabel:!0},legend:{show:!!o.x.legend,data:o.x.legend,textStyle:{color:this.fontColor,fontSize:this.fontSize}},toolbox:{show:!!o.toolbox,itemSize:12,iconStyle:{normal:{borderColor:this.fontColor},emphasis:{borderColor:this.emphasisColor}},feature:{dataZoom:{},dataView:{readOnly:!1},restore:{},saveAsImage:{}},right:15,top:0},xAxis:{type:"value",show:!!o.x.axisShow,min:o.x.min,max:o.x.max,splitLine:{show:!0,lineStyle:{type:"dotted"}},axisLabel:{show:!0,textStyle:{color:this.fontColor,fontSize:this.fontSize}}},yAxis:{show:!1!==o.y.axisShow,type:"category",name:o.y.name,nameTextStyle:{color:this.fontColor,fontSize:this.fontSize},nameGap:12,nameLocation:o.y.nameLocation||"end",axisLine:{show:!1!==o.y.axisLine,lineStyle:{color:"#333"}},axisTick:{show:!!o.y.axisTickShow},axisLabel:{show:!1!==o.y.labelShow,textStyle:{color:o.y.labelColor||this.fontColor,fontSize:o.y.labelSize||this.fontSize}},data:o.y.data},series:[]};return o.title&&(r.title={text:o.title,subtext:o.subtitle,textStyle:{color:this.titleColor,fontSize:this.titleSize}},r.legend.right=10),o.x.data&&Array.isArray(o.x.data)&&o.x.data.forEach(function(e,t){r.series.push({type:"bar",name:o.x.legend?o.x.legend[t]:null,barGap:o.x.barGap||0,barWidth:o.x.barWidth||null,stack:o.x.stack||null,label:{normal:{formatter:"{c}"+(o.dataLable&&o.dataLable.unit||""),show:!1!==o.dataLable,position:o.dataLable&&o.dataLable.position||"right",color:o.dataLable&&o.dataLable.color||null}},data:e,itemStyle:o.x.color?{normal:{color:Array.isArray(o.x.color[t])?{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:o.x.color[t][0]},{offset:1,color:o.x.color[t][1]}],globalCoord:!1}:o.x.color[t]}}:null})}),o.shadowBar&&o.x.data[0]&&r.series.push({type:"bar",itemStyle:{normal:{color:o.shadowBar.color||"rgba(0,0,0,0.05)"}},barGap:"-100%",barWidth:o.x.barWidth||null,barCategoryGap:"40%",data:new Array(o.x.data[0].length).fill(o.shadowBar.value||Math.max.apply(null,o.x.data[0])),animation:!1}),r}},{key:"render",value:function(){return _react2.default.createElement(_echartsForReact2.default,{option:this.getOption(this.props),style:this.props.style||{height:300,width:"100%"},notMerge:!0,lazyUpdate:!1,onEvents:this.props.onEvents})}}]),t}();exports.default=BarHorizontal,BarHorizontal.propTypes={color:_propTypes2.default.array,config:_propTypes2.default.shape({x:_propTypes2.default.object.isRequired,y:_propTypes2.default.object.isRequired,title:_propTypes2.default.string,subtitle:_propTypes2.default.string,grid:_propTypes2.default.object,toolbox:_propTypes2.default.bool,datalable:_propTypes2.default.object,shadowBar:_propTypes2.default.object}).isRequired,style:_propTypes2.default.object,onEvents:_propTypes2.default.object};