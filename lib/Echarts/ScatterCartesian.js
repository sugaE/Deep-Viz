"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_echartsForReact=require("echarts-for-react"),_echartsForReact2=_interopRequireDefault(_echartsForReact),_Basic2=require("./Basic"),_Basic3=_interopRequireDefault(_Basic2);require("../assets/echarts/map/china");var ScatterCartesian=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,_Basic3.default),_createClass(t,[{key:"setSymbolSize",value:function(e,t,o,r,a){return e?r<=a&&t<=e<=o?(e-t)*(a-r)/(o-t)+r:e||0:20}},{key:"getOption",value:function(e){var t=this,o=e.config,r=e.onTooltipFormat,a=o.options,i=o.color,l={silent:!0,data:[{name:"平均线",type:"average",valueIndex:0},{name:"平均线",type:"average",valueIndex:1}],label:{normal:{formatter:function(e){return"平均值\n"+(e.value&&e.value.toFixed(0)||"")}}},lineStyle:{normal:{color:this.fontColor}}},n={color:i||this.color,toolbox:{show:!!o.isToolboxShow,itemSize:this.fontSize,right:"0%",top:0,iconStyle:{normal:{borderColor:this.fontColor},emphasis:{borderColor:this.emphasisColor}},feature:{mark:{show:!0},dataZoom:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},grid:{show:!1,left:o.grid&&o.grid.left||30,right:o.grid&&o.grid.right||20,top:o.grid&&o.grid.top||10,bottom:o.grid&&o.grid.bottom||10,borderColor:this.gridColor,containLabel:!0},legend:{y:"top",x:"center",data:[],textStyle:{color:this.fontColor}},tooltip:{showDelay:0,axisPointer:{show:!0,type:"cross",lineStyle:{type:"dashed",width:1}}},xAxis:{name:o.xName,nameTextStyle:{color:this.fontColor,fontSize:this.fontSize},splitLine:{lineStyle:{color:this.gridColor,type:"dashed"}},axisLabel:{show:!0,textStyle:{color:this.fontColor,fontSize:this.fontSize}},scale:!0},yAxis:{name:o.yName,nameTextStyle:{color:this.fontColor,fontSize:this.fontSize},splitLine:{lineStyle:{color:this.gridColor,type:"dashed"}},axisLabel:{show:!0,textStyle:{color:this.fontColor,fontSize:this.fontSize}},scale:!0},series:[]};return r&&(n.tooltip.formatter=function(e){return r(e)}),o.title&&(n.title={text:o.title.text,subtext:o.title.subtext,textStyle:{color:this.titleColor,fontSize:this.titleSize}}),a.forEach(function(e,r){var a=[];e.data.forEach(function(e){a.push(e[2])});var i=Math.max.apply(Math,a),s=Math.min.apply(Math,a);n.legend.data.push(e.name),n.series.push({name:e.name,data:e.data,type:"scatter",symbolSize:function(e){return t.setSymbolSize(e[2],s,i,10,50)},markLine:e.markLine?l:"",label:{normal:{show:o.isLabelShow,position:"top",color:o.color&&Array.isArray(o.color[r])?o.color[r][1]:null,formatter:function(e){return e.data[3]?e.data[3]:e.seriesName}}},itemStyle:o.color?{normal:{shadowBlur:5,shadowColor:o.color[r][1],shadowOffsetY:2,color:Array.isArray(o.color[r])?{type:"radial",x:.4,y:.4,r:.6,colorStops:[{offset:0,color:o.color[r][0]},{offset:1,color:o.color[r][1]}],globalCoord:!1}:o.color[r]}}:null})}),n}},{key:"render",value:function(){return _react2.default.createElement(_echartsForReact2.default,{option:this.getOption(this.props),notMerge:!0,lazyUpdate:!1,style:this.props.style||{height:250,width:"100%"},onEvents:this.props.onEvents})}}]),t}();exports.default=ScatterCartesian,ScatterCartesian.propTypes={dataConfig:_propTypes2.default.shape({options:_propTypes2.default.object.isRequired,grid:_propTypes2.default.object,title:_propTypes2.default.object,color:_propTypes2.default.array}),style:_propTypes2.default.object,onTooltipFormat:_propTypes2.default.func,onEvents:_propTypes2.default.object};